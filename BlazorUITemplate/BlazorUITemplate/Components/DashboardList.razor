@using BlazorUITemplate.Data
@using BlazorUITemplate.Pages
<h3>DashboardList</h3>

<div class="dashboard-dropzone @dropClass"
     ondragover="event.preventDefault();"
     ondragstart="event.dataTransfer.setData('',event.target.id)"
     @ondrop="HandleDrop"
     @ondragenter="HandleDragEnter"
     @ondragleave="HandleDragLeave">

    @foreach (var button in Buttons)
    {
        <ButtonComponent ButtonModel="@button"/>
    }
</div>

@code {
    [CascadingParameter] Container Container { get; set; }
    List<ButtonModel> Buttons = new ();

    string dropClass = "";

    private void HandleDragEnter ()
    {
        dropClass = "can-drop";
    }

    private void HandleDrop ()
    {
        Buttons.Add (Container.SelectedButton);
        dropClass = "";
    }

    private void HandleDragLeave ()
    {
        dropClass = "";
    }
    [Parameter] public EventCallback<ButtonModel> OnDragStartEvent { get; set; }

    
}